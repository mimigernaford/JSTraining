<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="application/xhtml+xml; charset=utf-8"/>
    <title>ES2020 O'Reilly Javascript 7. Aufl. Kap 10 Module</title>
    <script type="text/javascript">
        //<![CDATA[
        'use strict';
    //Umsetzung Beispiel MD
        /*#########################################
         ##             Klasse ALPHA            ##
        #########################################*/
    class ALPHA{
            constructor(x="abc") {
                this.X = x;
                this.Aktionen = {
                    Methode_0:(p0=0)=>{
                        console.log(`Parameter p0 von ALPHA.Aktionen::Methode_0 = ${p0}`);
                        },
                    Methode_1:(p1=1)=>{
                        console.log(`Parameter p1 von ALPHA.Aktionen::Methode_1 = ${p1}`)
                        },
                    Methode_2:(p2=2)=>{
                        console.log(`Parameter p2 von ALPHA.Aktionen::Methode_2 = ${this.X}`)
                         }
                    }
                this.Container = {
                    Daten:["text von ALPHA",...x,12],
                    get A(){return 1;},
                    get F(){return (a,b)=>{return a+b};}
                    }
            }//constructor

            ALPHAMethode(){
                console.log("Meine Methode() in ALPHA");
            }
    }//class ALPHA


        /*#########################################
         ##             Klasse BETA             ##
        #########################################*/
    class BETA{
            constructor(x="def") {
              //  super();
                this.X = x;//überschreibt ALPHA.X
                this.Aktionen = {
                    Methode_0:(p0=0)=>{
                        console.log(`Parameter p0 von BETA.Aktionen::Methode_0 = ${p0}`);
                    },
                    Methode_1:(p1=1)=>{
                        console.log(`Parameter p1 von BETA.Aktionen::Methode_1 = ${p1}`)
                    },
                    Methode_2:(p2=2)=>{
                        console.log(`Parameter p2 von BETA.Aktionen::Methode_2 = ${this.X}`)
                    },//überschreibt ALPHA.Aktionen
                }
                this.Container = {
                    Daten:["text von BETA",...x,12]
                }//überschreibt ALPHA.Container
            this.Modul = new ALPHA();//macht ALPHA.Aktionen, X und Container wieder erreichbar -> Delegieren statt Vererben

            /*
            Funktionen im body des constructors sind nur als "closures" möglich.
             */
            //selfstart !! eine Methode im Constructor!! darf nicht im super() Constructor (in ALPHA) stehen
            //diese Konstruktion wird auch als Immediately Invokes Function Expressions (IIFE) bezeichnet
            ((nix) => {
                this.MeineMethode();
            })(null); //Start durch Modul_A
            //oder
            (function test(){console.log("Zeile 72: Text aus test()")})(); //analog zu selfstart mit dem Schlüsselwort "function"        //get() geht nicht

            }//constructor
        //class-body
        MeineMethode(){
            console.log("Meine Methode() in BETA, Aufruf mit selfstart, Programmname: " +this.X);
        }
    }

    //start:
        //let prg = new BETA("prg ist gestartet");
    //Ende Beispiel MD
    //#####################################################################
    //Beispiel 10.1 Seite 269 (abgewandelt)
    const Modul_A = (function(){
        function eins(){console.log("funk-1")}
        function zwei(){console.log("funk-2")}
        const Data      = [1,2,3,4,5,6,"aus Data"];
        const xclass    = new BETA();//startet "MeineMethode() in BETA"
        return class Modul_A{
            constructor(){
            this.Method_1   = eins;
            this.Method_2   = zwei;
            this.Daten      = Data;
            this.innerModul = xclass;
            //this.tester     = new BETA();
            this.tester     = new ALPHA();
            }
        }
    }()); //selfstart
    /*
    let ABC = new Modul_A();
    ABC.tester.X  == ABC.innerModul.Modul.X |-->true
     */
    //#####################################################################
    //Beispiel 10.1 Seite 269 (orig.)
    const BitSet = (function(){

        }
    );
    //Beispiel 10.1.1 Seite 270

    //#########################################################
    //last change 2022-12-20
    // ]]>
    </script>
</head>
<body>
<h1>O'Reilly ES2020</h1>
<h2>ES2020 O'Reilly Javascript 7. Aufl. Kap 10 Module S. 267 f.</h2>
<p>Module in ES6 anhand von "import" und "export"</p>
<ul>
    <li>Erzeugen einer Instanz [ let A = new BETA() ] startet "function test()" und "MeineMethode" automatisch ohne onload</li>
</ul>
</body>
</html>